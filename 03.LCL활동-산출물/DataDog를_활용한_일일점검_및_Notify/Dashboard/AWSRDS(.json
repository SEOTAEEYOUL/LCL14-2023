{"title":"AWS RDS (Aurora)","description":"This dashboard brings together metrics from Aurora's MySQL-compatible database engine with resource metrics from the AWS infrastructure for a detailed view of your RDS instances. Further reading on Aurora monitoring:\n\n- [Datadog's guide to key metrics for Amazon Aurora](https://www.datadoghq.com/blog/monitoring-amazon-aurora-performance-metrics/)\n\n- [How to collect metrics from Amazon Aurora](https://www.datadoghq.com/blog/how-to-collect-aurora-metrics/)\n\n- [How to monitor Aurora using Datadog](https://www.datadoghq.com/blog/monitor-aurora-using-datadog/)\n\n- [Datadog's RDS integration docs](https://docs.datadoghq.com/integrations/amazon_rds/)\n\nClone this template dashboard to make changes and add your own graph widgets.","widgets":[{"id":0,"layout":{"x":80,"y":0,"width":25,"height":12},"definition":{"title":"Queries","title_size":"16","title_align":"center","time":{"live_span":"1h"},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:mysql.performance.queries{$region,$zone,$dbinstanceidentifier}","aggregator":"last"}]}],"autoscale":true,"text_align":"center","custom_links":[],"precision":2}},{"id":1,"layout":{"x":0,"y":0,"width":25,"height":12},"definition":{"type":"image","url":"/static/images/logos/amazon-rds_avatar.svg","sizing":"fit","margin":"large"}},{"id":2,"layout":{"x":134,"y":20,"width":12,"height":41},"definition":{"type":"note","content":"[Connection](https://www.datadoghq.com/blog/monitoring-amazon-aurora-performance-metrics/#connection-metrics) & [Replication](https://www.datadoghq.com/blog/monitoring-amazon-aurora-performance-metrics/#read-replica-metrics)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":3,"layout":{"x":147,"y":41,"width":79,"height":20},"definition":{"title":"Replication lag","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.aurora_replica_lag{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}"}],"style":{"palette":"warm"},"display_type":"line"}],"custom_links":[]}},{"id":4,"layout":{"x":0,"y":63,"width":12,"height":41},"definition":{"type":"note","content":"[Disk I/O](https://www.datadoghq.com/blog/monitoring-amazon-aurora-performance-metrics/#resource-utilization)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":5,"layout":{"x":27,"y":0,"width":25,"height":12},"definition":{"type":"image","url":"/static/images/logos/amazon-aurora_avatar.svg","sizing":"fit","margin":"large"}},{"id":6,"layout":{"x":0,"y":20,"width":12,"height":41},"definition":{"type":"note","content":"[Query volume](https://www.datadoghq.com/blog/monitoring-amazon-aurora-performance-metrics/#query-throughput)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":7,"layout":{"x":53,"y":20,"width":39,"height":20},"definition":{"title":"SELECT queries per second","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:mysql.performance.com_select{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}"},{"data_source":"metrics","name":"query2","query":"avg:mysql.performance.qcache_hits{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}"}],"formulas":[{"formula":"query1 + query2"}],"style":{"palette":"green"},"display_type":"line"}],"custom_links":[]}},{"id":8,"layout":{"x":93,"y":20,"width":39,"height":20},"definition":{"title":"DML (INSERT/UPDATE/DELETE) queries per second","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:mysql.performance.com_insert{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}"},{"data_source":"metrics","name":"query2","query":"avg:mysql.performance.com_update{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}"},{"data_source":"metrics","name":"query3","query":"avg:mysql.performance.com_delete{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}"}],"formulas":[{"formula":"query1 + query2 + query3"}],"style":{"palette":"purple"},"display_type":"line"}],"custom_links":[]}},{"id":9,"layout":{"x":13,"y":41,"width":39,"height":20},"definition":{"title":"Slow queries","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:mysql.performance.slow_queries{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}"}],"style":{"palette":"warm"},"display_type":"bars"}],"custom_links":[]}},{"id":10,"layout":{"x":93,"y":84,"width":39,"height":20},"definition":{"title":"Write latency per I/O","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.diskio.writeLatency{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}"}],"style":{"palette":"purple"},"display_type":"line"}],"custom_links":[]}},{"id":11,"layout":{"x":147,"y":20,"width":39,"height":20},"definition":{"title":"Threads connected","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:mysql.performance.threads_connected{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}"}],"style":{"palette":"grey"},"display_type":"line"}],"custom_links":[]}},{"id":12,"layout":{"x":147,"y":84,"width":39,"height":20},"definition":{"title":"Network in","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.network_receive_throughput{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}.as_rate()"}],"style":{"palette":"purple"},"display_type":"line"}],"custom_links":[]}},{"id":13,"layout":{"x":187,"y":84,"width":39,"height":20},"definition":{"title":"Network out","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.network_transmit_throughput{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}.as_rate()"}],"style":{"palette":"green"},"display_type":"line"}],"custom_links":[]}},{"id":14,"layout":{"x":147,"y":63,"width":39,"height":20},"definition":{"title":"CPU","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.cpuutilization{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}"}],"style":{"palette":"warm"},"display_type":"line"}],"custom_links":[]}},{"id":15,"layout":{"x":107,"y":0,"width":25,"height":12},"definition":{"title":"DB connections","title_size":"16","title_align":"center","time":{"live_span":"1h"},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"sum:aws.rds.database_connections{$region,$zone,$dbinstanceidentifier}","aggregator":"last"}]}],"autoscale":true,"text_align":"center","custom_links":[]}},{"id":16,"layout":{"x":187,"y":20,"width":39,"height":20},"definition":{"title":"Threads running","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:mysql.performance.threads_running{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}"}],"style":{"palette":"grey"},"display_type":"line"}],"custom_links":[]}},{"id":17,"layout":{"x":13,"y":20,"width":39,"height":20},"definition":{"title":"Queries per second","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:mysql.performance.queries{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}"}],"style":{"palette":"orange"},"display_type":"line"}],"custom_links":[]}},{"id":18,"layout":{"x":13,"y":14,"width":39,"height":5},"definition":{"type":"note","content":"Overall","background_color":"blue","font_size":"16","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":19,"layout":{"x":53,"y":14,"width":39,"height":5},"definition":{"type":"note","content":"Reads","background_color":"blue","font_size":"16","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":20,"layout":{"x":93,"y":14,"width":39,"height":5},"definition":{"type":"note","content":"Writes","background_color":"blue","font_size":"16","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":21,"layout":{"x":53,"y":63,"width":39,"height":20},"definition":{"title":"Read IOPS","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.diskio.readIOsPS{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}.as_count()"}],"style":{"palette":"green"},"display_type":"line"}],"custom_links":[]}},{"id":22,"layout":{"x":93,"y":63,"width":39,"height":20},"definition":{"title":"Write IOPS","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.diskio.writeIOsPS{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}"}],"style":{"palette":"purple"},"display_type":"line"}],"custom_links":[]}},{"id":23,"layout":{"x":13,"y":84,"width":39,"height":20},"definition":{"title":"Disk queue depth","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.diskio.diskQueueDepth{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}"}],"style":{"palette":"blue"},"display_type":"line"}],"custom_links":[]}},{"id":24,"layout":{"x":134,"y":63,"width":12,"height":41},"definition":{"type":"note","content":"[AWS resource metrics](https://www.datadoghq.com/blog/monitoring-amazon-aurora-performance-metrics/#resource-utilization)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":25,"layout":{"x":187,"y":63,"width":39,"height":20},"definition":{"title":"RAM available","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.freeable_memory{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}"}],"style":{"palette":"cool"},"display_type":"line"}],"custom_links":[]}},{"id":26,"layout":{"x":53,"y":41,"width":39,"height":20},"definition":{"title":"SELECT latency","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.select_latency{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}"}],"style":{"palette":"green","line_type":"solid","line_width":"normal"},"display_type":"line"}],"custom_links":[]}},{"id":27,"layout":{"x":93,"y":41,"width":39,"height":20},"definition":{"title":"DML (INSERT/UPDATE/DELETE) latency","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.dmllatency{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}"}],"style":{"palette":"purple"},"display_type":"line"}],"custom_links":[]}},{"id":28,"layout":{"x":53,"y":84,"width":39,"height":20},"definition":{"title":"Read latency per I/O","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.diskio.readLatency{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}"}],"style":{"palette":"green"},"display_type":"line"}],"custom_links":[]}},{"id":29,"layout":{"x":13,"y":63,"width":39,"height":20},"definition":{"title":"Total IOPS per Cluster","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.diskio.writeIOsPS{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}.as_count()"},{"data_source":"metrics","name":"query2","query":"avg:aws.rds.diskio.readIOsPS{$region,$zone,$dbinstanceidentifier,engine:aurora*} by {dbinstanceidentifier}.as_count()"}],"formulas":[{"formula":"query1 + query2"}],"style":{"palette":"blue"},"display_type":"line"}],"custom_links":[]}},{"id":30,"layout":{"x":134,"y":0,"width":25,"height":12},"definition":{"title":"SELECT latency","title_size":"16","title_align":"center","time":{"live_span":"1h"},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.select_latency{$region,$zone,$dbinstanceidentifier}","aggregator":"last"}]}],"autoscale":false,"text_align":"center","custom_links":[],"precision":2}},{"id":31,"layout":{"x":161,"y":0,"width":25,"height":12},"definition":{"title":"DML latency","title_size":"16","title_align":"center","time":{"live_span":"1h"},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"data_source":"metrics","name":"query1","query":"avg:aws.rds.dmllatency{$region,$zone,$dbinstanceidentifier}","aggregator":"last"}]}],"autoscale":false,"text_align":"center","custom_links":[],"precision":2}},{"id":32,"layout":{"x":187,"y":0,"width":39,"height":12},"definition":{"type":"note","content":"NOTE: This dashboard displays metrics both from AWS CloudWatch and from Aurora's MySQL-compatible database engine. To see all the metrics, you will need to [enable the MySQL integration](https://docs.datadoghq.com/integrations/amazon_rds/).","background_color":"yellow","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":33,"layout":{"x":54,"y":0,"width":24,"height":12},"definition":{"title":"RDS service status","title_size":"13","title_align":"center","time":{"live_span":"30m"},"type":"check_status","check":"aws.status","grouping":"cluster","tags":["service:rds"]}}],"template_variables":[{"name":"region","prefix":"region","available_values":[],"default":"*"},{"name":"zone","prefix":"availability-zone","available_values":[],"default":"*"},{"name":"dbinstanceidentifier","prefix":"dbinstanceidentifier","available_values":[],"default":"*"}],"layout_type":"free","notify_list":[]}